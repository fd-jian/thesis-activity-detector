debug: false

custom:
  kafka:
    broker: kafka:29092
    topics:
      separator: ""
      names:
        stats: stats
        sensor-data: linear_acceleration
        sensor-data-rounded: linear_acceleration-rounded

# Native Encoding enables the kafka serialization/deserialization
spring:
  cloud:
    stream:
      default.producer:
        useNativeEncoding: true
      default.consumer:
        useNativeEncoding: true
      bindings:
        input:
          contentType: application/*+avro
          consumer.useNativeDecoding: true
        output:
          producer.useNativeEncoding: true
        # Configure the bindings
        sensor-data:
          destination: ${custom.kafka.topics.names.sensor-data}
        stats:
          destination: ${custom.kafka.topics.names.stats}
        sensor-data2:
          destination: ${custom.kafka.topics.names.sensor-data}
        sensor-data-rounded:
          destination: ${custom.kafka.topics.names.sensor-data-rounded}
      # Configure the kafka streams binder to consume messages
      kafka.streams:
        binder:
          brokers: ${custom.kafka.broker}
          configuration:
            default.key.serde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde
            default.value.serde: io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde
            schema.registry.url: http://schema-registry:8081
            cache.max.bytes.buffering: 0
        bindings:
          sensor-data:
            consumer.application-id: activity-detector-sensor-data
